<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 5 Control structures | Automated Data Processing with R</title>
  <meta name="description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 5 Control structures | Automated Data Processing with R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/branding/Cover_epub.png" />
  <meta property="og:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="github-repo" content="UNIGIS-Salzburg/En_AppDev-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 5 Control structures | Automated Data Processing with R" />
  
  <meta name="twitter:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="twitter:image" content="/branding/Cover_epub.png" />

<meta name="author" content="Christian Neuwirth &amp; Maximilian Elixhauser" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="branding/favicon.ico" type="image/x-icon" />
<link rel="prev" href="spatial-data-structures.html"/>
<link rel="next" href="functions.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://unigis.at/en" target="_blank"><img alt="UNIGIS Salzburg" src="branding/UNIGIS_Salzburg_Schriftlogo_globe.png" width=100%></a></li>
<li><a href="./">Automated Data Processing with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-module"><i class="fa fa-check"></i><b>1.1</b> About this module</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-programming-language"><i class="fa fa-check"></i><b>1.2</b> R programming language</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#installation-and-setup"><i class="fa fa-check"></i><b>1.3</b> Installation and Setup</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#interpreting-values"><i class="fa fa-check"></i><b>1.4</b> Interpreting values</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#simple-data-types"><i class="fa fa-check"></i><b>1.5</b> Simple data types</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#numop"><i class="fa fa-check"></i><b>1.6</b> Numeric operators</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#logical-operators"><i class="fa fa-check"></i><b>1.7</b> Logical operators</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#references"><i class="fa fa-check"></i><b>1.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="core.html"><a href="core.html"><i class="fa fa-check"></i><b>2</b> Core concepts</a>
<ul>
<li class="chapter" data-level="2.1" data-path="core.html"><a href="core.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="core.html"><a href="core.html#algorithms-and-functions"><i class="fa fa-check"></i><b>2.2</b> Algorithms and functions</a></li>
<li class="chapter" data-level="2.3" data-path="core.html"><a href="core.html#libraries"><i class="fa fa-check"></i><b>2.3</b> Libraries</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>3.1</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-structures.html"><a href="data-structures.html#vector-element-selection"><i class="fa fa-check"></i><b>3.1.1</b> Vector element selection</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-structures.html"><a href="data-structures.html#functions-on-vectors"><i class="fa fa-check"></i><b>3.1.2</b> Functions on vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html#multi-dimensional-data-types"><i class="fa fa-check"></i><b>3.2</b> Multi-dimensional data types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>3.2.1</b> Matrices</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#arrays"><i class="fa fa-check"></i><b>3.2.2</b> Arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#selection"><i class="fa fa-check"></i><b>3.2.3</b> Selection</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-structures.html"><a href="data-structures.html#list"><i class="fa fa-check"></i><b>3.2.4</b> List</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-structures.html"><a href="data-structures.html#data-frame"><i class="fa fa-check"></i><b>3.2.5</b> Data Frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html"><i class="fa fa-check"></i><b>4</b> Spatial Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#vector-data-structures"><i class="fa fa-check"></i><b>4.1</b> Vector Data Structures:</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#points"><i class="fa fa-check"></i><b>4.1.1</b> Points:</a></li>
<li class="chapter" data-level="4.1.2" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#lines"><i class="fa fa-check"></i><b>4.1.2</b> Lines:</a></li>
<li class="chapter" data-level="4.1.3" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#polygons"><i class="fa fa-check"></i><b>4.1.3</b> Polygons:</a></li>
<li class="chapter" data-level="4.1.4" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#raster-data-structures"><i class="fa fa-check"></i><b>4.1.4</b> Raster Data Structures:</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#representing-spatial-data-structures-in-r"><i class="fa fa-check"></i><b>4.2</b> Representing Spatial Data Structures in R</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#simple-features-with-sf"><i class="fa fa-check"></i><b>4.2.1</b> Simple Features with sf:</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#raster-data-with-terra"><i class="fa fa-check"></i><b>4.3</b> Raster Data with terra:</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#reading-raster-data"><i class="fa fa-check"></i><b>4.3.1</b> Reading Raster Data</a></li>
<li class="chapter" data-level="4.3.2" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#basic-raster-operations"><i class="fa fa-check"></i><b>4.3.2</b> Basic Raster Operations</a></li>
<li class="chapter" data-level="4.3.3" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#common-pitfalls"><i class="fa fa-check"></i><b>4.3.3</b> Common Pitfalls</a></li>
<li class="chapter" data-level="4.3.4" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#resampling-raster-data-in-terra"><i class="fa fa-check"></i><b>4.3.4</b> Resampling Raster Data in Terra</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#multidimensional-data-with-stars"><i class="fa fa-check"></i><b>4.4</b> Multidimensional Data with stars:</a></li>
<li class="chapter" data-level="4.5" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#spatial-indexing"><i class="fa fa-check"></i><b>4.5</b> Spatial Indexing</a></li>
<li class="chapter" data-level="4.6" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#topological-relationships"><i class="fa fa-check"></i><b>4.6</b> Topological Relationships</a></li>
<li class="chapter" data-level="4.7" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#introduction-to-spatstat-for-point-pattern-analysis.-not-recommended..-would-be-beneficial-for-chapter-12."><i class="fa fa-check"></i><b>4.7</b> Introduction to spatstat for point pattern analysis.(<strong>!!! not recommended.. would be beneficial for Chapter 12.</strong>)</a></li>
<li class="chapter" data-level="4.8" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#practical-applications-and-exercises"><i class="fa fa-check"></i><b>4.8</b> Practical Applications and Exercises</a></li>
<li class="chapter" data-level="4.9" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#coordinate-transformations"><i class="fa fa-check"></i><b>4.9</b> Coordinate Transformations</a></li>
<li class="chapter" data-level="4.10" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#raster-resampling-and-reprojection"><i class="fa fa-check"></i><b>4.10</b> Raster Resampling and Reprojection</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>5</b> Control structures</a>
<ul>
<li class="chapter" data-level="5.1" data-path="control-structures.html"><a href="control-structures.html#if"><i class="fa fa-check"></i><b>5.1</b> If</a></li>
<li class="chapter" data-level="5.2" data-path="control-structures.html"><a href="control-structures.html#else"><i class="fa fa-check"></i><b>5.2</b> Else</a></li>
<li class="chapter" data-level="5.3" data-path="control-structures.html"><a href="control-structures.html#code-blocks"><i class="fa fa-check"></i><b>5.3</b> Code blocks</a></li>
<li class="chapter" data-level="5.4" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>5.4</b> Loops</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="control-structures.html"><a href="control-structures.html#while-and-repeat"><i class="fa fa-check"></i><b>5.4.1</b> While and repeat</a></li>
<li class="chapter" data-level="5.4.2" data-path="control-structures.html"><a href="control-structures.html#for"><i class="fa fa-check"></i><b>5.4.2</b> For</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="control-structures.html"><a href="control-structures.html#loops-with-conditional-statements"><i class="fa fa-check"></i><b>5.5</b> Loops with conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>6</b> Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions.html"><a href="functions.html#defining-functions"><i class="fa fa-check"></i><b>6.1</b> Defining functions</a></li>
<li class="chapter" data-level="6.2" data-path="functions.html"><a href="functions.html#more-parameters"><i class="fa fa-check"></i><b>6.2</b> More parameters</a></li>
<li class="chapter" data-level="6.3" data-path="functions.html"><a href="functions.html#more-return-values"><i class="fa fa-check"></i><b>6.3</b> More return values</a></li>
<li class="chapter" data-level="6.4" data-path="functions.html"><a href="functions.html#functions-and-control-structures"><i class="fa fa-check"></i><b>6.4</b> Functions and control structures</a></li>
<li class="chapter" data-level="6.5" data-path="functions.html"><a href="functions.html#scope"><i class="fa fa-check"></i><b>6.5</b> Scope</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>7</b> Data manipulation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-manipulation.html"><a href="data-manipulation.html#preparation"><i class="fa fa-check"></i><b>7.1</b> Preparation</a></li>
<li class="chapter" data-level="7.2" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation-1"><i class="fa fa-check"></i><b>7.2</b> Data manipulation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#summarise"><i class="fa fa-check"></i><b>7.2.1</b> Summarise</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#select-and-filter"><i class="fa fa-check"></i><b>7.2.2</b> Select and filter</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#mutate"><i class="fa fa-check"></i><b>7.2.3</b> Mutate</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-manipulation.html"><a href="data-manipulation.html#arrange"><i class="fa fa-check"></i><b>7.2.4</b> Arrange</a></li>
<li class="chapter" data-level="7.2.5" data-path="data-manipulation.html"><a href="data-manipulation.html#exercise-data-manipulation"><i class="fa fa-check"></i><b>7.2.5</b> Exercise: data manipulation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-manipulation.html"><a href="data-manipulation.html#join"><i class="fa fa-check"></i><b>7.3</b> Join</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exercise-join"><i class="fa fa-check"></i><b>7.3.1</b> Exercise: join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html"><i class="fa fa-check"></i><b>8</b> Spatial Data Manipulation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-aggregation"><i class="fa fa-check"></i><b>8.2</b> Spatial Aggregation</a></li>
<li class="chapter" data-level="8.3" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#merging-and-appending-spatial-data"><i class="fa fa-check"></i><b>8.3</b> Merging and Appending Spatial Data</a></li>
<li class="chapter" data-level="8.4" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#handling-missing-data"><i class="fa fa-check"></i><b>8.4</b> Handling Missing Data</a></li>
<li class="chapter" data-level="8.5" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-data-cleaning"><i class="fa fa-check"></i><b>8.5</b> Spatial Data Cleaning</a></li>
<li class="chapter" data-level="8.6" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#multidimensional-data-wrangling-with-stars"><i class="fa fa-check"></i><b>8.6</b> Multidimensional Data Wrangling with stars</a></li>
<li class="chapter" data-level="8.7" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#challenges-in-spatial-data-structures"><i class="fa fa-check"></i><b>8.7</b> Challenges in Spatial Data Structures</a></li>
<li class="chapter" data-level="8.8" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#dealing-with-large-spatial-datasets."><i class="fa fa-check"></i><b>8.8</b> Dealing with large spatial datasets.</a></li>
<li class="chapter" data-level="8.9" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#case-study-a-complete-spatial-data-wrangling-workflow"><i class="fa fa-check"></i><b>8.9</b> Case Study: A Complete Spatial Data Wrangling Workflow</a></li>
<li class="chapter" data-level="8.10" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#introduction-1"><i class="fa fa-check"></i><b>8.10</b> Introduction</a></li>
<li class="chapter" data-level="8.11" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#filtering-spatial-data"><i class="fa fa-check"></i><b>8.11</b> Filtering Spatial Data</a></li>
<li class="chapter" data-level="8.12" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#filtering-rasters-with-terra"><i class="fa fa-check"></i><b>8.12</b> Filtering Rasters with terra</a></li>
<li class="chapter" data-level="8.13" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-joins-with-sf-though..-we-could-also-put-that-in-chapter-10-and-make-12-bigger-with-spatial-stat"><i class="fa fa-check"></i><b>8.13</b> Spatial Joins with sf (though.. we could also put that in Chapter 10 and make 12 bigger with spatial stat)</a></li>
<li class="chapter" data-level="8.14" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#geometric-operations-with-sf"><i class="fa fa-check"></i><b>8.14</b> Geometric Operations with sf</a>
<ul>
<li class="chapter" data-level="8.14.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#intersect"><i class="fa fa-check"></i><b>8.14.1</b> Intersect</a></li>
<li class="chapter" data-level="8.14.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#buffer"><i class="fa fa-check"></i><b>8.14.2</b> Buffer</a></li>
<li class="chapter" data-level="8.14.3" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#union-and-difference"><i class="fa fa-check"></i><b>8.14.3</b> Union and Difference</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#coordinate-transformations-and-reprojections-with-sf-and-terra"><i class="fa fa-check"></i><b>8.15</b> Coordinate Transformations and Reprojections with sf and terra</a></li>
<li class="chapter" data-level="8.16" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#raster-operations-with-terra"><i class="fa fa-check"></i><b>8.16</b> Raster Operations with terra</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#resampling"><i class="fa fa-check"></i><b>8.16.1</b> Resampling</a></li>
<li class="chapter" data-level="8.16.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#raster-algebra"><i class="fa fa-check"></i><b>8.16.2</b> Raster Algebra</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#applied-spatial-statistics-with-spatstat"><i class="fa fa-check"></i><b>8.17</b> Applied Spatial Statistics with spatstat</a></li>
<li class="chapter" data-level="8.18" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#comparative-analysis-of-packages"><i class="fa fa-check"></i><b>8.18</b> Comparative Analysis of Packages</a></li>
<li class="chapter" data-level="8.19" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#exercise"><i class="fa fa-check"></i><b>8.19</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="read-and-write-data.html"><a href="read-and-write-data.html"><i class="fa fa-check"></i><b>9</b> Read and write data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#read-and-write-tabular-data"><i class="fa fa-check"></i><b>9.1</b> Read and write tabular data</a></li>
<li class="chapter" data-level="9.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#read-and-write-vector-data"><i class="fa fa-check"></i><b>9.2</b> Read and write vector data</a></li>
<li class="chapter" data-level="9.3" data-path="read-and-write-data.html"><a href="read-and-write-data.html#data-api"><i class="fa fa-check"></i><b>9.3</b> Data API</a></li>
<li class="chapter" data-level="9.4" data-path="read-and-write-data.html"><a href="read-and-write-data.html#additional-thoughts-so-far-for-revision"><i class="fa fa-check"></i><b>9.4</b> Additional Thoughts so far for revision</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#advanced-json-handling-with-httr2"><i class="fa fa-check"></i><b>9.4.1</b> <strong>7.4 Advanced JSON Handling with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#caching-data-with-httr2"><i class="fa fa-check"></i><b>9.4.2</b> <strong>7.5 Caching Data with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.3" data-path="read-and-write-data.html"><a href="read-and-write-data.html#error-handling-and-retries-with-httr2"><i class="fa fa-check"></i><b>9.4.3</b> <strong>7.6 Error Handling and Retries with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.4" data-path="read-and-write-data.html"><a href="read-and-write-data.html#advanced-api-techniques"><i class="fa fa-check"></i><b>9.4.4</b> <strong>7.7 Advanced API Techniques</strong></a></li>
<li class="chapter" data-level="9.4.5" data-path="read-and-write-data.html"><a href="read-and-write-data.html#introduction-to-web-scraping-altough-this-might-be-too-much..-and-even-if-its-important-for-data-sourcing-its-kind-of-a-grey-area-limited-by-rate-limits-or-considerations-with-tos."><i class="fa fa-check"></i><b>9.4.5</b> <strong>7.8 Introduction to Web Scraping</strong> (Altough, this might be too much.. and even if it’s important, for data sourcing, it’s kind of a grey area, limited by rate limits or considerations with ToS.)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>10</b> Data visualization</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-visualization.html"><a href="data-visualization.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>10.1</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="10.2" data-path="data-visualization.html"><a href="data-visualization.html#visualization-of-distributions"><i class="fa fa-check"></i><b>10.2</b> Visualization of distributions</a></li>
<li class="chapter" data-level="10.3" data-path="data-visualization.html"><a href="data-visualization.html#boxplots"><i class="fa fa-check"></i><b>10.3</b> Boxplots</a></li>
<li class="chapter" data-level="10.4" data-path="data-visualization.html"><a href="data-visualization.html#scatterplots"><i class="fa fa-check"></i><b>10.4</b> Scatterplots</a></li>
<li class="chapter" data-level="10.5" data-path="data-visualization.html"><a href="data-visualization.html#map-visualization"><i class="fa fa-check"></i><b>10.5</b> Map visualization</a></li>
<li class="chapter" data-level="10.6" data-path="data-visualization.html"><a href="data-visualization.html#interactive-maps"><i class="fa fa-check"></i><b>10.6</b> Interactive Maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="r-markdown.html"><a href="r-markdown.html#set-up-your-work-environment"><i class="fa fa-check"></i><b>11.1</b> Set up your work environment</a></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#create-a-local-clone"><i class="fa fa-check"></i><b>11.2</b> Create a local clone</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#create-a-first-rmarkdown-document"><i class="fa fa-check"></i><b>11.3</b> Create a first RMarkdown document</a></li>
<li class="chapter" data-level="11.4" data-path="r-markdown.html"><a href="r-markdown.html#synchronize-with-github"><i class="fa fa-check"></i><b>11.4</b> Synchronize with GitHub</a></li>
<li class="chapter" data-level="11.5" data-path="r-markdown.html"><a href="r-markdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>11.5</b> Basic RMarkdown syntax</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="r-markdown.html"><a href="r-markdown.html#references-in-rmarkdown"><i class="fa fa-check"></i><b>11.5.1</b> References in RMarkdown</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="r-markdown.html"><a href="r-markdown.html#speed-up-your-workflows"><i class="fa fa-check"></i><b>11.6</b> Speed up your workflows</a></li>
<li class="chapter" data-level="11.7" data-path="r-markdown.html"><a href="r-markdown.html#self-study"><i class="fa fa-check"></i><b>11.7</b> Self-study</a></li>
</ul></li>
<li class="divider"></li>
<li>Copyright © UNIGIS Salzburg.</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Automated Data Processing with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-structures" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Lesson 5</span> Control structures<a href="control-structures.html#control-structures" class="anchor-section" aria-label="Anchor link to header"></a></h1>

<div class="rmdtip">
<p>In this lesson, you will get to know control structures as a significant structural element of code. Control structures allow our code to adapt its behavior depending on the value of the current variables in the environment.</p>
<p>We distinguish between two types of control structures:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Conditional statements</strong>, which allow executing instructions only if a certain condition is satisfied.</p></li>
<li><p><strong>Loops</strong>, which allow to repeat one or more instructions multiple times. Loops are commonly used to apply the same operation on a series of values that are stored in sequences such as vectors or lists.</p></li>
</ol>
</div>
<div id="if" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> If<a href="control-structures.html#if" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The most fundamental conditional statement in R is the structure ‘if’, which is used to execute one or more instructions only if a certain condition is TRUE.</p>
<p>In order to include an if-structure in your code, you need to use the following syntax:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="control-structures.html#cb122-1" aria-hidden="true" tabindex="-1"></a>a_value <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">7</span></span>
<span id="cb122-2"><a href="control-structures.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (a_value <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb122-3"><a href="control-structures.html#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Negative&quot;</span>)</span>
<span id="cb122-4"><a href="control-structures.html#cb122-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Negative</code></pre>
<p>The <strong>statement</strong> ‘cat(“Negative”)’ gets executed and the text “Negative” is printed out, because the <strong>condition</strong> (a_value &lt; 0) is TRUE.</p>

<div class="rmdtip">
<p>The function <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cat" target="_blank">cat()</a> concatenates and prints string inputs (“Negative” in the example above). Alternatively, you can use the function ‘print()’ to write variable values to the console window.</p>
<p>These functions are highly useful to inspect whether variables take on expected values!</p>
</div>
<p>Note that every conditional statement (e.g. ‘a_value &lt; 0’) returns a logical value that is either TRUE or FALSE.</p>

<div class="rmdexercise">
<p>Remove the negative sign from the conditional statement in the code above.</p>
<details closed>
<summary>
<ins>
<strong>See solution!</strong>
</ins>
</summary>
<p>
<p><i><font color="grey"></p>
<p>The condition yields FALSE. The statement is not executed.</p>
</font></i>
</p>
</details>
</div>
</div>
<div id="else" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Else<a href="control-structures.html#else" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In many cases, we want the interpreter to do something if the condition is satisfied or do something <em>else</em>, if the condition is not satisfied. In this case, we can use ‘if’ together with ‘else’:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="control-structures.html#cb124-1" aria-hidden="true" tabindex="-1"></a>a_value <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">7</span></span>
<span id="cb124-2"><a href="control-structures.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (a_value <span class="sc">&lt;</span> <span class="dv">0</span>){</span>
<span id="cb124-3"><a href="control-structures.html#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Negative&quot;</span>)</span>
<span id="cb124-4"><a href="control-structures.html#cb124-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb124-5"><a href="control-structures.html#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Positive&quot;</span>)</span>
<span id="cb124-6"><a href="control-structures.html#cb124-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Negative</code></pre>
<p>In the example above, the <strong>condition</strong> ‘a_value &lt; 0’ is TRUE, <strong>statement 1</strong> ‘cat(“Negative”)’ gets executed and <strong>statement 2</strong> ‘cat(“Positive”)’ is ignored. If you change ‘a_value’ to a positive value, the interpreter will ignore statement 1 and execute statement 2.</p>

<div class="rmdtip">
<p>Note that statement 1 and statement 2 are in curly brackets! The indentation of statements is good programming practice, however does not affect the functioning of the code.</p>
However, inserting a line break before ‘else’ returns an error. The reason for this behavior is explained in <a href="https://stackoverflow.com/questions/37929184/if-else-does-the-line-break-between-and-else-really-matters" target="_blank">a forum thread</a>.
</div>
</div>
<div id="code-blocks" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Code blocks<a href="control-structures.html#code-blocks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Conditional structures have a wide range of applications. Almost everything what a computer does requires an input. Each time you click a button the computer responds accordingly. The code that dictates the response typically has an if-else control structure or something very similar that tells the computer what to do depending on the input it got. Obviously in most cases the response won’t be defined by a single instruction, but a code block that is composed of multiple instructions. <strong>Code blocks</strong> allow encapsulating <strong>several</strong> statements in a single group. The condition in the following example yields TRUE and the code block is executed:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="control-structures.html#cb126-1" aria-hidden="true" tabindex="-1"></a>first_value <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb126-2"><a href="control-structures.html#cb126-2" aria-hidden="true" tabindex="-1"></a>second_value <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb126-3"><a href="control-structures.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (first_value <span class="sc">&gt;</span> second_value) {</span>
<span id="cb126-4"><a href="control-structures.html#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;First is greater than second</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb126-5"><a href="control-structures.html#cb126-5" aria-hidden="true" tabindex="-1"></a>  difference <span class="ot">&lt;-</span> first_value <span class="sc">-</span> second_value</span>
<span id="cb126-6"><a href="control-structures.html#cb126-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Their difference is&quot;</span>, difference)</span>
<span id="cb126-7"><a href="control-structures.html#cb126-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## First is greater than second
## Their difference is 3</code></pre>
<p>The line ‘cat(“First is greater than second”)’ prints a text (string) and inserts a line break. The next line calculates the difference between first and second value. The third line in the code block concatenates two inputs (“Their difference is” and variable ‘difference’) and prints them to the console window.</p>

<div class="rmdtip">
‘if’ and ‘else’ are so called <strong>reserved words</strong>, meaning they cannot be used as variable names.
</div>
</div>
<div id="loops" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Loops<a href="control-structures.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The second family of control structures that we are going to discuss in this lesson are loops. Loops are a fundamental component of (procedural) programming. They allow repeating one or more instructions multiple times.</p>
<p>There are two main types of loops:</p>
<ul>
<li><strong>conditional</strong> loops are executed as long as a defined condition holds true
<ul>
<li>construct <code>while</code></li>
<li>construct <code>repeat</code></li>
</ul></li>
<li><strong>deterministic</strong> loops are executed a pre-determined number of times
<ul>
<li>construct <code>for</code></li>
</ul></li>
</ul>
<div id="while-and-repeat" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> While and repeat<a href="control-structures.html#while-and-repeat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>while</em> construct can be defined using the <code>while</code> reserved word, followed by a condition between simple brackets, and a code block. The instructions in the code block are re-executed as long as the result of the evaluation of the condition is <code>TRUE</code>.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="control-structures.html#cb128-1" aria-hidden="true" tabindex="-1"></a>current_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb128-2"><a href="control-structures.html#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (current_value <span class="sc">&lt;</span> <span class="dv">3</span>) {</span>
<span id="cb128-3"><a href="control-structures.html#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Current value is&quot;</span>, current_value, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb128-4"><a href="control-structures.html#cb128-4" aria-hidden="true" tabindex="-1"></a>  current_value <span class="ot">&lt;-</span> current_value <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb128-5"><a href="control-structures.html#cb128-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Current value is 0 
## Current value is 1 
## Current value is 2</code></pre>

<div class="rmdexercise">
<p>Go through the example above and try to verbalize the consecutive steps.</p>
<details closed>
<summary>
<ins>
<strong>See solution!</strong>
</ins>
</summary>
<p>
<p><i><font color="grey"></p>
<ol style="list-style-type: decimal">
<li>The variable ‘current_value’ takes on a value of zero.</li>
<li>The condition of the while-loop returns TRUE.</li>
<li>The ‘cat()’ function is executed and prints a text as well as ‘current_value’.</li>
<li>The variable ‘current_value’ is incremented by +1.</li>
<li>The condition of the while-loop returns TRUE (current_value = 1), the code block is executed again (see 3 and 4).</li>
<li>current_value = 2, the code block is executed again (see 3 and 4).</li>
<li>current_value = 3, the condition returns FALSE, the loops ends.</li>
</ol>
</font></i>
</p>
</details>
</div>
<p>The same procedure can alternatively be implemented by means of the <em>repeat</em> construct:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="control-structures.html#cb130-1" aria-hidden="true" tabindex="-1"></a>current_value <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb130-2"><a href="control-structures.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> { </span>
<span id="cb130-3"><a href="control-structures.html#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Current value is&quot;</span>, current_value, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb130-4"><a href="control-structures.html#cb130-4" aria-hidden="true" tabindex="-1"></a>  current_value <span class="ot">=</span> current_value <span class="sc">+</span> <span class="dv">1</span> </span>
<span id="cb130-5"><a href="control-structures.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (current_value <span class="sc">==</span> <span class="dv">3</span>){             <span class="co">#if (variable == 3)... </span></span>
<span id="cb130-6"><a href="control-structures.html#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">break</span>                              <span class="co">#the loop will break!</span></span>
<span id="cb130-7"><a href="control-structures.html#cb130-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb130-8"><a href="control-structures.html#cb130-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Current value is 0 
## Current value is 1 
## Current value is 2</code></pre>
<p>The break statement is executed and stops (breaks) the repeat loop (also applicable to while or for loops) once the variable <code>current_value</code> is equal to three.</p>
</div>
<div id="for" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> For<a href="control-structures.html#for" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>for</em> construct can be defined using the <code>for</code> reserved word, followed by the definition of an <strong>iterator</strong>. The iterator is a variable, which is temporarily assigned with the current element of a vector, as the construct iterates through all elements of the vector. This definition is followed by a code block, whose instructions are re-executed once for each element of the vector.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="control-structures.html#cb132-1" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Derby&quot;</span>, <span class="st">&quot;Leicester&quot;</span>, <span class="st">&quot;Lincoln&quot;</span>, <span class="st">&quot;Nottingham&quot;</span>)</span>
<span id="cb132-2"><a href="control-structures.html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (city <span class="cf">in</span> cities) {</span>
<span id="cb132-3"><a href="control-structures.html#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Do you live in &quot;</span>, city, <span class="st">&quot;?</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb132-4"><a href="control-structures.html#cb132-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Do you live in Derby?
## Do you live in Leicester?
## Do you live in Lincoln?
## Do you live in Nottingham?</code></pre>
<p>In the first iteration of the for-loop the text string “Derby” is assigned to the iterator ‘city’. The function ‘cat()’ uses the iterator value as an input. In the second iteration, the text string “Leicester” is assigned to the iterator ‘city’ … etc.</p>
<p>The code block below illustrates another example.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="control-structures.html#cb134-1" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Derby&quot;</span>, <span class="st">&quot;Leicester&quot;</span>, <span class="st">&quot;Lincoln&quot;</span>, <span class="st">&quot;Nottingham&quot;</span>)</span>
<span id="cb134-2"><a href="control-structures.html#cb134-2" aria-hidden="true" tabindex="-1"></a>letter_cnt <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb134-3"><a href="control-structures.html#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (city <span class="cf">in</span> cities) {</span>
<span id="cb134-4"><a href="control-structures.html#cb134-4" aria-hidden="true" tabindex="-1"></a>  letter_cnt <span class="ot">&lt;-</span> <span class="fu">c</span>(letter_cnt, <span class="fu">nchar</span>(city))</span>
<span id="cb134-5"><a href="control-structures.html#cb134-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb134-6"><a href="control-structures.html#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(letter_cnt)</span></code></pre></div>
<pre><code>## [1]  5  9  7 10</code></pre>
<p>The for-loop iterates over the elements in vector ‘cities’. The base function ‘nchar()’ counts the number of letters of every city name and appends the count to a new vector ‘letter_cnt’.</p>

<div class="rmdtip">
<p>Note that with every iteration a new value is appended to the right side of the vector. The syntax for appending elements to a vector in R is…</p>
<p><em>name vector &lt;- c(name vector, element to append)</em></p>
</div>
<p>There are some cases in which, for some reason, you just want to execute a certain sequence of steps a pre-defined number of times. In such cases, it is common practice to create a vector of integers on the spot. In the following example the for-loop is executed 3 times as it iterates over a vector composed of the three elements 1, 2, and 3 (vector is created on the spot by 1:3):</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="control-structures.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb136-2"><a href="control-structures.html#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;This is exectuion number&quot;</span>, i, <span class="st">&quot;:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb136-3"><a href="control-structures.html#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;    See you later!</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb136-4"><a href="control-structures.html#cb136-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## This is exectuion number 1 :
##     See you later!
## This is exectuion number 2 :
##     See you later!
## This is exectuion number 3 :
##     See you later!</code></pre>

<div class="rmdexercise">
<p>Replace the vector 1:3 by a vector 3:5. What is different?</p>
<details closed>
<summary>
<ins>
<strong>See solution!</strong>
</ins>
</summary>
<p>
<p><i><font color="grey"></p>
<p>The for-loop is still executed 3 times.</p>
<p>However, the iterator ‘i’ returns the values 3, 4, and 5.</p>
</font></i>
</p>
</details>
</div>
</div>
</div>
<div id="loops-with-conditional-statements" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Loops with conditional statements<a href="control-structures.html#loops-with-conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have seen both types of control structures, <strong>conditional statements</strong> and <strong>loops</strong>, we can combine these structures. R, as most other programming languages, allows you to include conditional statements within a loop or a loop within a conditional statement.</p>
<p>A simple example is this bit of code that defines a countdown:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="control-structures.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Example: countdown!</span></span>
<span id="cb138-2"><a href="control-structures.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">0</span>) {</span>
<span id="cb138-3"><a href="control-structures.html#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb138-4"><a href="control-structures.html#cb138-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Go!</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb138-5"><a href="control-structures.html#cb138-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb138-6"><a href="control-structures.html#cb138-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(i, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb138-7"><a href="control-structures.html#cb138-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb138-8"><a href="control-structures.html#cb138-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## 3 
## 2 
## 1 
## Go!</code></pre>
<p>The deterministic loop runs 4 time on the values 3, 2, 1, and 0. If the iterator ‘i’ takes on a value of 0 the print “Go!” otherwise print the current value of the iterator ‘i’. The result will be 3, 2, 1, Go!</p>
<details closed>
<summary>
<ins>
<strong>See another example!</strong>
</ins>
</summary>
<p>
<p><i><font color="grey"></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="control-structures.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb140-2"><a href="control-structures.html#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="control-structures.html#cb140-3" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Salzburg&quot;</span>, <span class="st">&quot;Linz&quot;</span>, <span class="st">&quot;Wien&quot;</span>, <span class="st">&quot;Eisenstadt&quot;</span>, <span class="st">&quot;Innsbruck&quot;</span>, <span class="st">&quot;Graz&quot;</span>)</span>
<span id="cb140-4"><a href="control-structures.html#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="control-structures.html#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (city <span class="cf">in</span> cities){</span>
<span id="cb140-6"><a href="control-structures.html#cb140-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">str_starts</span>(city, <span class="st">&quot;S&quot;</span>)){</span>
<span id="cb140-7"><a href="control-structures.html#cb140-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;City name starts with S&quot;</span>)</span>
<span id="cb140-8"><a href="control-structures.html#cb140-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb140-9"><a href="control-structures.html#cb140-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;City name starts with other letter&quot;</span>)</span>
<span id="cb140-10"><a href="control-structures.html#cb140-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb140-11"><a href="control-structures.html#cb140-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb140-12"><a href="control-structures.html#cb140-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;City name starts with S&quot;
## [1] &quot;City name starts with other letter&quot;
## [1] &quot;City name starts with other letter&quot;
## [1] &quot;City name starts with other letter&quot;
## [1] &quot;City name starts with other letter&quot;
## [1] &quot;City name starts with other letter&quot;</code></pre>
<p>We need to load the library ‘tidyverse’ to make use of the function ‘str_starts()’. You may have to install ‘tidyverse’ (see Libraries in lesson <a href="core.html#core">core Concepts</a>).</p>
<p>‘cities’ is a vector of strings that includes the names of some Austrian federal capitals. The for-loop iterates over these vector elements. The function ‘str_starts’ takes the value of the iterator ‘city’ as well as a string “S” as inputs. If the city starts with letter S, the function returns TRUE and “City name starts with S” is printed to the console window, otherwise the function returns FALSE and “City name starts with other letter” is printed.</p>
</font></i>
</p>
</details>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="spatial-data-structures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["UNIGIS-AppDev-R.pdf", "UNIGIS-AppDev-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
