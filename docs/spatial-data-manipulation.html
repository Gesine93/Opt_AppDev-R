<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 8 Spatial Data Manipulation | Automated Data Processing with R</title>
  <meta name="description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 8 Spatial Data Manipulation | Automated Data Processing with R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/branding/Cover_epub.png" />
  <meta property="og:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="github-repo" content="UNIGIS-Salzburg/En_AppDev-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 8 Spatial Data Manipulation | Automated Data Processing with R" />
  
  <meta name="twitter:description" content="BookDown materials for the UNIGIS module Application Development - Introduction to R." />
  <meta name="twitter:image" content="/branding/Cover_epub.png" />

<meta name="author" content="Christian Neuwirth &amp; Maximilian Elixhauser" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="branding/favicon.ico" type="image/x-icon" />
<link rel="prev" href="data-manipulation.html"/>
<link rel="next" href="read-and-write-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://unigis.at/en" target="_blank"><img alt="UNIGIS Salzburg" src="branding/UNIGIS_Salzburg_Schriftlogo_globe.png" width=100%></a></li>
<li><a href="./">Automated Data Processing with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-module"><i class="fa fa-check"></i><b>1.1</b> About this module</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#r-programming-language"><i class="fa fa-check"></i><b>1.2</b> R programming language</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#installation-and-setup"><i class="fa fa-check"></i><b>1.3</b> Installation and Setup</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#interpreting-values"><i class="fa fa-check"></i><b>1.4</b> Interpreting values</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#simple-data-types"><i class="fa fa-check"></i><b>1.5</b> Simple data types</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#numop"><i class="fa fa-check"></i><b>1.6</b> Numeric operators</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#logical-operators"><i class="fa fa-check"></i><b>1.7</b> Logical operators</a></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#references"><i class="fa fa-check"></i><b>1.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="core.html"><a href="core.html"><i class="fa fa-check"></i><b>2</b> Core concepts</a>
<ul>
<li class="chapter" data-level="2.1" data-path="core.html"><a href="core.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="core.html"><a href="core.html#algorithms-and-functions"><i class="fa fa-check"></i><b>2.2</b> Algorithms and functions</a></li>
<li class="chapter" data-level="2.3" data-path="core.html"><a href="core.html#libraries"><i class="fa fa-check"></i><b>2.3</b> Libraries</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>3.1</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-structures.html"><a href="data-structures.html#vector-element-selection"><i class="fa fa-check"></i><b>3.1.1</b> Vector element selection</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-structures.html"><a href="data-structures.html#functions-on-vectors"><i class="fa fa-check"></i><b>3.1.2</b> Functions on vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html#multi-dimensional-data-types"><i class="fa fa-check"></i><b>3.2</b> Multi-dimensional data types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>3.2.1</b> Matrices</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#arrays"><i class="fa fa-check"></i><b>3.2.2</b> Arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#selection"><i class="fa fa-check"></i><b>3.2.3</b> Selection</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-structures.html"><a href="data-structures.html#list"><i class="fa fa-check"></i><b>3.2.4</b> List</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-structures.html"><a href="data-structures.html#data-frame"><i class="fa fa-check"></i><b>3.2.5</b> Data Frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html"><i class="fa fa-check"></i><b>4</b> Spatial Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#vector-data-structures"><i class="fa fa-check"></i><b>4.1</b> Vector Data Structures</a></li>
<li class="chapter" data-level="4.2" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#raster-data-structures"><i class="fa fa-check"></i><b>4.2</b> Raster Data Structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="spatial-data-structures.html"><a href="spatial-data-structures.html#working-with-spatraster-objects"><i class="fa fa-check"></i><b>4.2.1</b> Working with SpatRaster objects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>5</b> Control structures</a>
<ul>
<li class="chapter" data-level="5.1" data-path="control-structures.html"><a href="control-structures.html#if"><i class="fa fa-check"></i><b>5.1</b> If</a></li>
<li class="chapter" data-level="5.2" data-path="control-structures.html"><a href="control-structures.html#else"><i class="fa fa-check"></i><b>5.2</b> Else</a></li>
<li class="chapter" data-level="5.3" data-path="control-structures.html"><a href="control-structures.html#code-blocks"><i class="fa fa-check"></i><b>5.3</b> Code blocks</a></li>
<li class="chapter" data-level="5.4" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>5.4</b> Loops</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="control-structures.html"><a href="control-structures.html#while-and-repeat"><i class="fa fa-check"></i><b>5.4.1</b> While and repeat</a></li>
<li class="chapter" data-level="5.4.2" data-path="control-structures.html"><a href="control-structures.html#for"><i class="fa fa-check"></i><b>5.4.2</b> For</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="control-structures.html"><a href="control-structures.html#loops-with-conditional-statements"><i class="fa fa-check"></i><b>5.5</b> Loops with conditional statements</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="control-structures.html"><a href="control-structures.html#exercise-loops-with-conditional-statements"><i class="fa fa-check"></i><b>5.5.1</b> Exercise: loops with conditional statements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>6</b> Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions.html"><a href="functions.html#defining-functions"><i class="fa fa-check"></i><b>6.1</b> Defining functions</a></li>
<li class="chapter" data-level="6.2" data-path="functions.html"><a href="functions.html#more-parameters"><i class="fa fa-check"></i><b>6.2</b> More parameters</a></li>
<li class="chapter" data-level="6.3" data-path="functions.html"><a href="functions.html#more-return-values"><i class="fa fa-check"></i><b>6.3</b> More return values</a></li>
<li class="chapter" data-level="6.4" data-path="functions.html"><a href="functions.html#functions-and-control-structures"><i class="fa fa-check"></i><b>6.4</b> Functions and control structures</a></li>
<li class="chapter" data-level="6.5" data-path="functions.html"><a href="functions.html#scope"><i class="fa fa-check"></i><b>6.5</b> Scope</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>7</b> Data manipulation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-manipulation.html"><a href="data-manipulation.html#preparation"><i class="fa fa-check"></i><b>7.1</b> Preparation</a></li>
<li class="chapter" data-level="7.2" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation-1"><i class="fa fa-check"></i><b>7.2</b> Data manipulation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#summarise"><i class="fa fa-check"></i><b>7.2.1</b> Summarise</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#select-and-filter"><i class="fa fa-check"></i><b>7.2.2</b> Select and filter</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#mutate"><i class="fa fa-check"></i><b>7.2.3</b> Mutate</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-manipulation.html"><a href="data-manipulation.html#arrange"><i class="fa fa-check"></i><b>7.2.4</b> Arrange</a></li>
<li class="chapter" data-level="7.2.5" data-path="data-manipulation.html"><a href="data-manipulation.html#exercise-data-manipulation"><i class="fa fa-check"></i><b>7.2.5</b> Exercise: data manipulation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-manipulation.html"><a href="data-manipulation.html#join"><i class="fa fa-check"></i><b>7.3</b> Join</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#exercise-join"><i class="fa fa-check"></i><b>7.3.1</b> Exercise: join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html"><i class="fa fa-check"></i><b>8</b> Spatial Data Manipulation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-aggregation"><i class="fa fa-check"></i><b>8.2</b> Spatial Aggregation</a></li>
<li class="chapter" data-level="8.3" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#merging-and-appending-spatial-data"><i class="fa fa-check"></i><b>8.3</b> Merging and Appending Spatial Data</a></li>
<li class="chapter" data-level="8.4" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#handling-missing-data"><i class="fa fa-check"></i><b>8.4</b> Handling Missing Data</a></li>
<li class="chapter" data-level="8.5" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-data-cleaning"><i class="fa fa-check"></i><b>8.5</b> Spatial Data Cleaning</a></li>
<li class="chapter" data-level="8.6" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#multidimensional-data-wrangling-with-stars"><i class="fa fa-check"></i><b>8.6</b> Multidimensional Data Wrangling with stars</a></li>
<li class="chapter" data-level="8.7" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#challenges-in-spatial-data-structures"><i class="fa fa-check"></i><b>8.7</b> Challenges in Spatial Data Structures</a></li>
<li class="chapter" data-level="8.8" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#dealing-with-large-spatial-datasets."><i class="fa fa-check"></i><b>8.8</b> Dealing with large spatial datasets.</a></li>
<li class="chapter" data-level="8.9" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#case-study-a-complete-spatial-data-wrangling-workflow"><i class="fa fa-check"></i><b>8.9</b> Case Study: A Complete Spatial Data Wrangling Workflow</a></li>
<li class="chapter" data-level="8.10" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#introduction-1"><i class="fa fa-check"></i><b>8.10</b> Introduction</a></li>
<li class="chapter" data-level="8.11" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#filtering-spatial-data"><i class="fa fa-check"></i><b>8.11</b> Filtering Spatial Data</a></li>
<li class="chapter" data-level="8.12" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#filtering-rasters-with-terra"><i class="fa fa-check"></i><b>8.12</b> Filtering Rasters with terra</a></li>
<li class="chapter" data-level="8.13" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#spatial-joins-with-sf-though..-we-could-also-put-that-in-chapter-10-and-make-12-bigger-with-spatial-stat"><i class="fa fa-check"></i><b>8.13</b> Spatial Joins with sf (though.. we could also put that in Chapter 10 and make 12 bigger with spatial stat)</a></li>
<li class="chapter" data-level="8.14" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#geometric-operations-with-sf"><i class="fa fa-check"></i><b>8.14</b> Geometric Operations with sf</a>
<ul>
<li class="chapter" data-level="8.14.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#intersect"><i class="fa fa-check"></i><b>8.14.1</b> Intersect</a></li>
<li class="chapter" data-level="8.14.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#buffer"><i class="fa fa-check"></i><b>8.14.2</b> Buffer</a></li>
<li class="chapter" data-level="8.14.3" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#union-and-difference"><i class="fa fa-check"></i><b>8.14.3</b> Union and Difference</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#coordinate-transformations-and-reprojections-with-sf-and-terra"><i class="fa fa-check"></i><b>8.15</b> Coordinate Transformations and Reprojections with sf and terra</a></li>
<li class="chapter" data-level="8.16" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#raster-operations-with-terra"><i class="fa fa-check"></i><b>8.16</b> Raster Operations with terra</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#resampling"><i class="fa fa-check"></i><b>8.16.1</b> Resampling</a></li>
<li class="chapter" data-level="8.16.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#raster-algebra"><i class="fa fa-check"></i><b>8.16.2</b> Raster Algebra</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#applied-spatial-statistics-with-spatstat"><i class="fa fa-check"></i><b>8.17</b> Applied Spatial Statistics with spatstat</a></li>
<li class="chapter" data-level="8.18" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#comparative-analysis-of-packages"><i class="fa fa-check"></i><b>8.18</b> Comparative Analysis of Packages</a></li>
<li class="chapter" data-level="8.19" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#exercise"><i class="fa fa-check"></i><b>8.19</b> Exercise</a></li>
<li class="chapter" data-level="8.20" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#topological-relationships"><i class="fa fa-check"></i><b>8.20</b> Topological Relationships</a>
<ul>
<li class="chapter" data-level="8.20.1" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#resampling-raster-data-in-terra"><i class="fa fa-check"></i><b>8.20.1</b> Resampling Raster Data in Terra</a></li>
<li class="chapter" data-level="8.20.2" data-path="spatial-data-manipulation.html"><a href="spatial-data-manipulation.html#basic-raster-operations"><i class="fa fa-check"></i><b>8.20.2</b> Basic Raster Operations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="read-and-write-data.html"><a href="read-and-write-data.html"><i class="fa fa-check"></i><b>9</b> Read and write data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#read-and-write-tabular-data"><i class="fa fa-check"></i><b>9.1</b> Read and write tabular data</a></li>
<li class="chapter" data-level="9.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#read-and-write-vector-data"><i class="fa fa-check"></i><b>9.2</b> Read and write vector data</a></li>
<li class="chapter" data-level="9.3" data-path="read-and-write-data.html"><a href="read-and-write-data.html#data-api"><i class="fa fa-check"></i><b>9.3</b> Data API</a></li>
<li class="chapter" data-level="9.4" data-path="read-and-write-data.html"><a href="read-and-write-data.html#additional-thoughts-so-far-for-revision"><i class="fa fa-check"></i><b>9.4</b> Additional Thoughts so far for revision</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#advanced-json-handling-with-httr2"><i class="fa fa-check"></i><b>9.4.1</b> <strong>7.4 Advanced JSON Handling with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#caching-data-with-httr2"><i class="fa fa-check"></i><b>9.4.2</b> <strong>7.5 Caching Data with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.3" data-path="read-and-write-data.html"><a href="read-and-write-data.html#error-handling-and-retries-with-httr2"><i class="fa fa-check"></i><b>9.4.3</b> <strong>7.6 Error Handling and Retries with <code>httr2</code></strong></a></li>
<li class="chapter" data-level="9.4.4" data-path="read-and-write-data.html"><a href="read-and-write-data.html#advanced-api-techniques"><i class="fa fa-check"></i><b>9.4.4</b> <strong>7.7 Advanced API Techniques</strong></a></li>
<li class="chapter" data-level="9.4.5" data-path="read-and-write-data.html"><a href="read-and-write-data.html#introduction-to-web-scraping-altough-this-might-be-too-much..-and-even-if-its-important-for-data-sourcing-its-kind-of-a-grey-area-limited-by-rate-limits-or-considerations-with-tos."><i class="fa fa-check"></i><b>9.4.5</b> <strong>7.8 Introduction to Web Scraping</strong> (Altough, this might be too much.. and even if it’s important, for data sourcing, it’s kind of a grey area, limited by rate limits or considerations with ToS.)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>10</b> Data visualization</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-visualization.html"><a href="data-visualization.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>10.1</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="10.2" data-path="data-visualization.html"><a href="data-visualization.html#visualization-of-distributions"><i class="fa fa-check"></i><b>10.2</b> Visualization of distributions</a></li>
<li class="chapter" data-level="10.3" data-path="data-visualization.html"><a href="data-visualization.html#boxplots"><i class="fa fa-check"></i><b>10.3</b> Boxplots</a></li>
<li class="chapter" data-level="10.4" data-path="data-visualization.html"><a href="data-visualization.html#scatterplots"><i class="fa fa-check"></i><b>10.4</b> Scatterplots</a></li>
<li class="chapter" data-level="10.5" data-path="data-visualization.html"><a href="data-visualization.html#map-visualization"><i class="fa fa-check"></i><b>10.5</b> Map visualization</a></li>
<li class="chapter" data-level="10.6" data-path="data-visualization.html"><a href="data-visualization.html#interactive-maps"><i class="fa fa-check"></i><b>10.6</b> Interactive Maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="r-markdown.html"><a href="r-markdown.html#set-up-your-work-environment"><i class="fa fa-check"></i><b>11.1</b> Set up your work environment</a></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#create-a-local-clone"><i class="fa fa-check"></i><b>11.2</b> Create a local clone</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#create-a-first-rmarkdown-document"><i class="fa fa-check"></i><b>11.3</b> Create a first RMarkdown document</a></li>
<li class="chapter" data-level="11.4" data-path="r-markdown.html"><a href="r-markdown.html#synchronize-with-github"><i class="fa fa-check"></i><b>11.4</b> Synchronize with GitHub</a></li>
<li class="chapter" data-level="11.5" data-path="r-markdown.html"><a href="r-markdown.html#basic-rmarkdown-syntax"><i class="fa fa-check"></i><b>11.5</b> Basic RMarkdown syntax</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="r-markdown.html"><a href="r-markdown.html#references-in-rmarkdown"><i class="fa fa-check"></i><b>11.5.1</b> References in RMarkdown</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="r-markdown.html"><a href="r-markdown.html#speed-up-your-workflows"><i class="fa fa-check"></i><b>11.6</b> Speed up your workflows</a></li>
<li class="chapter" data-level="11.7" data-path="r-markdown.html"><a href="r-markdown.html#self-study"><i class="fa fa-check"></i><b>11.7</b> Self-study</a></li>
</ul></li>
<li class="divider"></li>
<li>Copyright © UNIGIS Salzburg.</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Automated Data Processing with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="spatial-data-manipulation" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Lesson 8</span> Spatial Data Manipulation<a href="spatial-data-manipulation.html#spatial-data-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Introduction<a href="spatial-data-manipulation.html#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Briefly discuss the importance of spatial data wrangling in geoinformatics and related fields.</li>
<li>Quick highlight of the difference between traditional data wrangling and spatial data wrangling.</li>
</ul>
</div>
<div id="spatial-aggregation" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Spatial Aggregation<a href="spatial-data-manipulation.html#spatial-aggregation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Aggregating spatial data based on certain attributes or spatial units.</li>
<li>Introduce the sf and terra packages for aggregation tasks.</li>
</ul>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="spatial-data-manipulation.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for spatial aggregation using sf and terra</span></span></code></pre></div>
</div>
<div id="merging-and-appending-spatial-data" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Merging and Appending Spatial Data<a href="spatial-data-manipulation.html#merging-and-appending-spatial-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Combining multiple spatial datasets.</li>
<li>Introduce the sf package for these tasks.</li>
</ul>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="spatial-data-manipulation.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for merging and appending using sf</span></span></code></pre></div>
</div>
<div id="handling-missing-data" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Handling Missing Data<a href="spatial-data-manipulation.html#handling-missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Discuss methods to identify, visualize, and impute missing data.</li>
<li>Introduce the <strong>tidyverse</strong> suite for handling missing data in spatial datasets. (but again, watchout for <strong>httr1</strong> and <strong>httr2</strong> + (<strong>time of writing 12.09.2023</strong>)</li>
</ul>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="spatial-data-manipulation.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for handling missing data using tidyverse</span></span></code></pre></div>
</div>
<div id="spatial-data-cleaning" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Spatial Data Cleaning<a href="spatial-data-manipulation.html#spatial-data-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Detecting and correcting topological errors.</li>
<li>Introduce the sf and spatstat packages for these tasks.</li>
</ul>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="spatial-data-manipulation.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for spatial data cleaning using sf and spatstat</span></span></code></pre></div>
</div>
<div id="multidimensional-data-wrangling-with-stars" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Multidimensional Data Wrangling with stars<a href="spatial-data-manipulation.html#multidimensional-data-wrangling-with-stars" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Handling and manipulating multidimensional arrays.</li>
<li>Discuss the importance of stars in the R spatial ecosystem.</li>
</ul>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="spatial-data-manipulation.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for wrangling multidimensional data using stars</span></span></code></pre></div>
</div>
<div id="challenges-in-spatial-data-structures" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Challenges in Spatial Data Structures<a href="spatial-data-manipulation.html#challenges-in-spatial-data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Issues with data integrity and accuracy.</li>
<li>Handling different coordinate reference systems (CRS). (If you get for example a old or exotic dataset)</li>
</ul>
</div>
<div id="dealing-with-large-spatial-datasets." class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> Dealing with large spatial datasets.<a href="spatial-data-manipulation.html#dealing-with-large-spatial-datasets." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Dive Deeper: Strategies for optimizing spatial data structures for large datasets and high-performance computing.</li>
</ul>
</div>
<div id="case-study-a-complete-spatial-data-wrangling-workflow" class="section level2 hasAnchor" number="8.9">
<h2><span class="header-section-number">8.9</span> Case Study: A Complete Spatial Data Wrangling Workflow<a href="spatial-data-manipulation.html#case-study-a-complete-spatial-data-wrangling-workflow" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Would be a quite interesting change of wind: a comprehensive case study integrating various spatial data wrangling techniques…</li>
<li>This could be based on a real-world scenario, such as urban planning, environmental monitoring, or transportation.</li>
<li>Alternatively, a set of exercises allowing our students to apply the techniques learned in the chapter.</li>
</ul>
<hr />
</div>
<div id="introduction-1" class="section level2 hasAnchor" number="8.10">
<h2><span class="header-section-number">8.10</span> Introduction<a href="spatial-data-manipulation.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Briefly explain the difference between data wrangling and data manipulation in the spatial context.</li>
<li>Highlight the importance of spatial data manipulation in GIS and spatial analysis workflows.</li>
<li>Introduce the primary packages for this chapter: sf, terra, stars, and spatstat.</li>
</ul>
</div>
<div id="filtering-spatial-data" class="section level2 hasAnchor" number="8.11">
<h2><span class="header-section-number">8.11</span> Filtering Spatial Data<a href="spatial-data-manipulation.html#filtering-spatial-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Filtering sf Objects</li>
<li>Demonstrate how to filter spatial features in sf objects based on attribute conditions.</li>
<li>Introduce the sf package for vector data filtering.</li>
</ul>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="spatial-data-manipulation.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for filtering sf objects</span></span></code></pre></div>
</div>
<div id="filtering-rasters-with-terra" class="section level2 hasAnchor" number="8.12">
<h2><span class="header-section-number">8.12</span> Filtering Rasters with terra<a href="spatial-data-manipulation.html#filtering-rasters-with-terra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Show how to filter raster data based on cell values or spatial conditions using terra.</li>
</ul>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="spatial-data-manipulation.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for filtering rasters with terra</span></span></code></pre></div>
</div>
<div id="spatial-joins-with-sf-though..-we-could-also-put-that-in-chapter-10-and-make-12-bigger-with-spatial-stat" class="section level2 hasAnchor" number="8.13">
<h2><span class="header-section-number">8.13</span> Spatial Joins with sf (though.. we could also put that in Chapter 10 and make 12 bigger with spatial stat)<a href="spatial-data-manipulation.html#spatial-joins-with-sf-though..-we-could-also-put-that-in-chapter-10-and-make-12-bigger-with-spatial-stat" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Explain the concept of spatial joins.</li>
<li>Demonstrate how to join two spatial datasets based on their spatial relationship using sf.</li>
</ul>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="spatial-data-manipulation.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for spatial joins with sf</span></span></code></pre></div>
</div>
<div id="geometric-operations-with-sf" class="section level2 hasAnchor" number="8.14">
<h2><span class="header-section-number">8.14</span> Geometric Operations with sf<a href="spatial-data-manipulation.html#geometric-operations-with-sf" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="intersect" class="section level3 hasAnchor" number="8.14.1">
<h3><span class="header-section-number">8.14.1</span> Intersect<a href="spatial-data-manipulation.html#intersect" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Demonstrate how to find the common spatial elements between two datasets using sf.</li>
</ul>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="spatial-data-manipulation.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for intersect operation with sf</span></span></code></pre></div>
</div>
<div id="buffer" class="section level3 hasAnchor" number="8.14.2">
<h3><span class="header-section-number">8.14.2</span> Buffer<a href="spatial-data-manipulation.html#buffer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Show how to create a buffer zone around a spatial feature using sf.</li>
</ul>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="spatial-data-manipulation.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for buffer operation with sf</span></span></code></pre></div>
</div>
<div id="union-and-difference" class="section level3 hasAnchor" number="8.14.3">
<h3><span class="header-section-number">8.14.3</span> Union and Difference<a href="spatial-data-manipulation.html#union-and-difference" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Explain and demonstrate the union and difference operations between two spatial datasets using sf.</li>
</ul>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="spatial-data-manipulation.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for union and difference operations with sf</span></span></code></pre></div>
</div>
</div>
<div id="coordinate-transformations-and-reprojections-with-sf-and-terra" class="section level2 hasAnchor" number="8.15">
<h2><span class="header-section-number">8.15</span> Coordinate Transformations and Reprojections with sf and terra<a href="spatial-data-manipulation.html#coordinate-transformations-and-reprojections-with-sf-and-terra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Discuss the importance of having datasets in the same coordinate system.</li>
<li>Demonstrate how to reproject spatial data using both sf for vector data and terra for raster data.</li>
</ul>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="spatial-data-manipulation.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for coordinate transformations with sf and terra</span></span></code></pre></div>
</div>
<div id="raster-operations-with-terra" class="section level2 hasAnchor" number="8.16">
<h2><span class="header-section-number">8.16</span> Raster Operations with terra<a href="spatial-data-manipulation.html#raster-operations-with-terra" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="resampling" class="section level3 hasAnchor" number="8.16.1">
<h3><span class="header-section-number">8.16.1</span> Resampling<a href="spatial-data-manipulation.html#resampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Show how to change the resolution of raster datasets using terra.</li>
</ul>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="spatial-data-manipulation.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for raster resampling with terra</span></span></code></pre></div>
</div>
<div id="raster-algebra" class="section level3 hasAnchor" number="8.16.2">
<h3><span class="header-section-number">8.16.2</span> Raster Algebra<a href="spatial-data-manipulation.html#raster-algebra" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Demonstrate basic raster algebra operations like addition, subtraction, and multiplication of raster layers using terra.</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="spatial-data-manipulation.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example code for raster algebra with terra</span></span></code></pre></div>
</div>
</div>
<div id="applied-spatial-statistics-with-spatstat" class="section level2 hasAnchor" number="8.17">
<h2><span class="header-section-number">8.17</span> Applied Spatial Statistics with spatstat<a href="spatial-data-manipulation.html#applied-spatial-statistics-with-spatstat" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>(I think, this will be yours Christian :) But it might be a pretty good idea to showcase it in chapter 12, atleast basics.):
- Introduction to spatstat:
- Briefly introduce the spatstat package and its capabilities in handling advanced spatial statistics.
- Point Pattern Analysis (ppa):
- Dive deeper into point pattern analysis, discussing its importance and applications in spatial statistics.
- Spatial Clustering:
- Discuss the concept of spatial clustering and its relevance in identifying patterns in spatial data.
- Illustrate with examples how spatstat can be used for spatial clustering analysis.
- Nearest Neighbor Analysis:
- Introduce Nearest Neighbor as a crucial type of spatial query often used in spatial statistics to analyze the spatial distribution of features.
- Discuss its applications in evaluating the spatial arrangement of points, assessing spatial randomness, and identifying - patterns such as clustering or dispersion.
- Provide practical examples demonstrating how to perform Nearest Neighbor analysis using spatstat, and discuss the interpretation of the results.</p>
</div>
<div id="comparative-analysis-of-packages" class="section level2 hasAnchor" number="8.18">
<h2><span class="header-section-number">8.18</span> Comparative Analysis of Packages<a href="spatial-data-manipulation.html#comparative-analysis-of-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>After that intense usage of packages, Investigate and compare the performance, ease of use, and capabilities of sf, terra, stars, and spatstat for various spatial operations. Compiled languages (for example via C, C++) and packages and their difference in speed.</li>
</ul>
</div>
<div id="exercise" class="section level2 hasAnchor" number="8.19">
<h2><span class="header-section-number">8.19</span> Exercise<a href="spatial-data-manipulation.html#exercise" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Provide exercises that allow readers to apply the techniques learned in the chapter, ensuring they get hands-on experience with each of the introduced packages.</li>
</ul>
<hr />
</div>
<div id="topological-relationships" class="section level2 hasAnchor" number="8.20">
<h2><span class="header-section-number">8.20</span> Topological Relationships<a href="spatial-data-manipulation.html#topological-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Discuss spatial relationships like:</li>
<li>Adjacency (what’s next to what)</li>
<li>Connectivity (how things are connected)</li>
<li>Containment (what contains what)</li>
<li>Importance of understanding topological relationships in spatial analysis and how one might implement that in R.</li>
</ul>
<div id="resampling-raster-data-in-terra" class="section level3 hasAnchor" number="8.20.1">
<h3><span class="header-section-number">8.20.1</span> Resampling Raster Data in Terra<a href="spatial-data-manipulation.html#resampling-raster-data-in-terra" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="what-is-resampling" class="section level4 hasAnchor" number="8.20.1.1">
<h4><span class="header-section-number">8.20.1.1</span> What is Resampling?<a href="spatial-data-manipulation.html#what-is-resampling" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Resampling is the process of changing the spatial resolution of a raster dataset. This is useful when you want to align multiple rasters that have different resolutions or when you want to change the level of detail in your analysis.</p>
<p>Step 1: Check the Original Resolution
Before resampling, it’s important to know the original resolution of your raster. You can use the res() function to check this.</p>
<p>#```{r}</p>
<p>#res(elev) # shows us the resolution of 0.5. 0.5
#plot(elev)
#```
Where res is the new resolution.</p>
<p>Step 2: Choose a New Resolution
Decide what the new resolution should be. This could be higher or lower than the original, depending on your needs.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="spatial-data-manipulation.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Resample the raster to the new resolution</span></span>
<span id="cb190-2"><a href="spatial-data-manipulation.html#cb190-2" aria-hidden="true" tabindex="-1"></a>new_res <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)  <span class="co"># Example new resolution, for example double the size.</span></span></code></pre></div>
<p>Step 3: Perform Resampling
You can use the resample() function to change the resolution. The method can be “nearest”, “bilinear”, etc., depending on the type of interpolation you want to use.</p>
<p>#```{r}</p>
<p>#elev_resampled &lt;- resample(elev, new_res, method=“bilinear”)
# Create a target raster with the new resolution
#target_raster &lt;- rast(elev, res=new_res)
# Resample the original raster to match the target raster
#elev_resampled &lt;- resample(elev, target_raster, method=“bilinear”)
# Check the new resolution
#res(elev_resampled)</p>
<p>#```</p>
<p>Masking: To mask a raster using another raster or vector, you can use the mask() function.</p>
<p>#<code>{r} #r_masked &lt;- mask(r, mask_layer) #</code>
Where mask_layer is another raster or a vector layer</p>
<hr />
</div>
</div>
<div id="basic-raster-operations" class="section level3 hasAnchor" number="8.20.2">
<h3><span class="header-section-number">8.20.2</span> Basic Raster Operations<a href="spatial-data-manipulation.html#basic-raster-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="cropping" class="section level4 hasAnchor" number="8.20.2.1">
<h4><span class="header-section-number">8.20.2.1</span> Cropping:<a href="spatial-data-manipulation.html#cropping" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>What is Raster Cropping?
Raster cropping is the process of selecting a specific area (or “extent”) from a larger raster dataset. This is useful when you want to focus your analysis on a particular region.</p>
<p>Why Do We Need to Check the Original Raster’s Extent?
Before cropping, it’s crucial to know the extent of the original raster. This ensures that the area you want to crop actually exists within the original raster. If the extents don’t overlap, you’ll get an error.</p>
<p>How to Check the Extent?
You can use the ext() function from the terra package to check the extent of a raster.</p>
<p>#<code>{r} # Check the extent of the original raster #ext(elev) #</code>
- How to Crop?
Once you know the extent, you can specify a new extent within that range for cropping.</p>
<p>#```{r}
# Define a new extent that is within the original #raster’s extent
#crop_extent &lt;- ext(-1, 1, -1, 1) # These coordinates #are within the original extent</p>
<p>#Crop the raster
#elev_cropped &lt;- crop(elev, crop_extent)
#elev_cropped</p>
<p>#```
### Common Pitfalls
- Non-overlapping Extents: Make sure the cropping extent overlaps with the original raster’s extent, otherwise, you’ll get an error.
- Coordinate Systems: Ensure that the raster and the extent are in the same coordinate system!</p>

<p>new:</p>
<p><strong>Reading Raster Data</strong></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="spatial-data-manipulation.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the terra package</span></span>
<span id="cb191-2"><a href="spatial-data-manipulation.html#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb191-3"><a href="spatial-data-manipulation.html#cb191-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-4"><a href="spatial-data-manipulation.html#cb191-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use the elevation tif file from &quot;spData&quot;</span></span>
<span id="cb191-5"><a href="spatial-data-manipulation.html#cb191-5" aria-hidden="true" tabindex="-1"></a><span class="co"># &quot;The raster data represents elevation in meters and uses WGS84 as a coordinate reference system.&quot;</span></span>
<span id="cb191-6"><a href="spatial-data-manipulation.html#cb191-6" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;raster/elev.tif&quot;</span>, <span class="at">package =</span> <span class="st">&quot;spData&quot;</span>)</span>
<span id="cb191-7"><a href="spatial-data-manipulation.html#cb191-7" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">rast</span>(elev)</span>
<span id="cb191-8"><a href="spatial-data-manipulation.html#cb191-8" aria-hidden="true" tabindex="-1"></a>elev </span></code></pre></div>
<pre><code>## class       : SpatRaster 
## dimensions  : 6, 6, 1  (nrow, ncol, nlyr)
## resolution  : 0.5, 0.5  (x, y)
## extent      : -1.5, 1.5, -1.5, 1.5  (xmin, xmax, ymin, ymax)
## coord. ref. : lon/lat WGS 84 (EPSG:4326) 
## source      : elev.tif 
## name        : elev 
## min value   :    1 
## max value   :   36</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="spatial-data-manipulation.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elev) </span></code></pre></div>
<p><img src="UNIGIS-AppDev-R_files/figure-html/unnamed-chunk-168-1.png" width="672" />
Once you’ve read the raster data, you can explore its properties using various functions:</p>
<ul>
<li>ncol(r): Number of columns</li>
<li>nrow(r): Number of rows</li>
<li>res(r): Resolution (pixel size)</li>
<li>crs(r): Coordinate Reference System</li>
</ul>
<hr />
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-manipulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="read-and-write-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["UNIGIS-AppDev-R.pdf", "UNIGIS-AppDev-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
